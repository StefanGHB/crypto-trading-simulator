# ===============================================
# CRYPTO TRADING SIMULATOR - MAXIMUM SPEED PROPERTIES
# ===============================================

# ===============================================
# SERVER CONFIGURATION
# ===============================================
server.port=8080

# ===============================================
# DATABASE CONFIGURATION - MYSQL
# ===============================================
# Primary DataSource
spring.datasource.url=jdbc:mysql://localhost:3306/crypto_trading_sim?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&characterEncoding=UTF-8
spring.datasource.username=root
spring.datasource.password=1My@DaTa!!3$b&GG1ng
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ? ?????????? ???????????? Connection Pool Settings ?? REAL-TIME Performance
spring.datasource.hikari.maximum-pool-size=50
spring.datasource.hikari.minimum-idle=20
spring.datasource.hikari.idle-timeout=180000
spring.datasource.hikari.connection-timeout=5000
spring.datasource.hikari.max-lifetime=900000
spring.datasource.hikari.leak-detection-threshold=15000

# ===============================================
# SPRING JDBC CONFIGURATION - ?????????? ???????
# ===============================================
spring.jdbc.template.query-timeout=5

# ===============================================
# LOGGING CONFIGURATION - ???????????? ?? REAL-TIME
# ===============================================
# Root logging level
logging.level.root=INFO

# Application logging - ???????????? ?? production
logging.level.com.cryptotrading.crypto_trading_sim=INFO
logging.level.com.cryptotrading.crypto_trading_sim.service.KrakenWebSocketService=INFO

# SQL logging - ???????? ?? performance
logging.level.org.springframework.jdbc=WARN
logging.level.org.springframework.jdbc.core.JdbcTemplate=WARN
logging.level.org.springframework.jdbc.core.StatementCreatorUtils=WARN

# MySQL driver logging
logging.level.com.mysql.cj=WARN

# WebSocket logging - ????????????
logging.level.org.springframework.web.socket=INFO
logging.level.org.springframework.messaging=INFO

# ===============================================
# WEBSOCKET CONFIGURATION - ?????????? ???????
# ===============================================
# WebSocket endpoint
websocket.endpoint=/ws
websocket.topic.prices=/topic/prices

# ===============================================
# ? KRAKEN API CONFIGURATION - ZERO DELAYS MODE
# ===============================================
# Kraken WebSocket API
kraken.websocket.url=wss://ws.kraken.com/v2
kraken.api.timeout=8000

# ? ?????????? ????? reconnect settings ?? instant real-time performance
kraken.api.reconnect.attempts=20
kraken.api.reconnect.delay=1000

# ? REAL-TIME price update interval - ?????????? updates (???????? ?? 1 ?? 0 ???????)
price.update.interval=0

# ===============================================
# TRADING CONFIGURATION - ????????????
# ===============================================
# Default user settings
trading.default.initial.balance=10000.00
trading.default.currency=USD
trading.fee.percentage=0.10
trading.max.decimal.places=8

# Trading limits - ???????????? ?? real-time trading
trading.min.transaction.amount=0.01
trading.max.transaction.amount=1000000

# ===============================================
# APPLICATION CONFIGURATION - ?????????? ???????
# ===============================================
# Static resources serving - ???????????? ?? performance
spring.web.resources.static-locations=classpath:/static/
spring.web.resources.cache.cachecontrol.max-age=7200
spring.mvc.static-path-pattern=/**

# ===============================================
# DEVELOPMENT PROFILE SETTINGS
# ===============================================
# DevTools - ????????? ? production ?? optimal performance
spring.devtools.restart.enabled=false
spring.devtools.livereload.enabled=false

# ===============================================
# ACTUATOR ENDPOINTS - ?????????
# ===============================================
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized
management.info.env.enabled=true

# ===============================================
# JSON CONFIGURATION - ?????????? ???????
# ===============================================
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.serialization.indent-output=false
spring.jackson.deserialization.fail-on-unknown-properties=false
spring.jackson.default-property-inclusion=non_null

# ===============================================
# VALIDATION CONFIGURATION
# ===============================================
# Enable validation
spring.validation.enabled=true

# ===============================================
# ? ASYNC CONFIGURATION - ?????????? ??????? ?? REAL-TIME
# ===============================================
spring.task.execution.pool.core-size=20
spring.task.execution.pool.max-size=100
spring.task.execution.pool.queue-capacity=500
spring.task.execution.thread-name-prefix=crypto-instant-

# ? SCHEDULER CONFIGURATION ?? ?????????? ???????
spring.task.scheduling.pool.size=10
spring.task.scheduling.thread-name-prefix=crypto-scheduler-

# ===============================================
# ? JVM OPTIMIZATION PROPERTIES ?? ?????????? ???????
# ===============================================
# (?????? ???? ???? JVM arguments ??? ??????????)
# -Xms2g -Xmx4g
# -XX:+UseG1GC
# -XX:MaxGCPauseMillis=50
# -XX:+UseStringDeduplication
# -XX:+OptimizeStringConcat

# ===============================================
# ENVIRONMENT SPECIFIC OVERRIDES
# ===============================================
# Use spring.profiles.active=instant,prod to override these settings

# ? For MAXIMUM SPEED environment
spring.profiles.active=instant